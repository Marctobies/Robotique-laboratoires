Écrivez un programme Python qui doit effectuer le traitement d'image suivant:

    le programme capte une image RGB 640x480 de la caméra de votre robot ou de votre portable;
    binarise l'image avec les seuils suivants: rouge de 0 à 255, vert de 0 à 255 et bleu de 128 à 255;  
    calcule et affiche le nombre de contours dont l'aire a plus de de 10 000 pixels. Utilisez le rectangle qui circonscrit le contour pour calculer l'aire.  

De plus: 

    Le traitement d'image doit se faire à chaque fois que la roue droite fait un tour complet. Supposez que l'encodeur de la roue a 10 fentes.
    Vous devez utiliser un objet Event pour signaler que la roue à fait un tour complet. 
    Le programme doit effectuer 10 fois le traitement d'une image. 

Consignes supplémentaires

    Mettez tout votre code dans un seul fichier .py
    Votre code doit etre le plus simple possible et ne contenir que les sources nécessaires à son exécution.
    Ne démarrez pas d'autres fils d'exécution! (threads) 

Critères de correction

    Fonctionnalités
    Qualité de la programmation
    Respect des consignes


import cv2
from picamera2 import Picamera2, Preview
import numpy as np

class Camera: 
    def __init__(self, largeur=640, hauteur=480):
        self.LARGEUR = largeur
        self.HAUTEUR = hauteur
        self.picam2 = Picamera2()

        self.TEINTE_MIN = np.array([0, 0, 1128])
        self.TEINTE_MAX = np.array([255, 255, 255])
        config = self.picam2.create_preview_configuration(
            main={"format": 'RGB888', "size": (self.LARGEUR, self.HAUTEUR)})
        self.picam2.align_configuration(config)
        self.picam2.configure(config)
        self.picam2.start()

    def capturer_image(self):
        frame_bgr = self.picam2.capture_array()
        frame_hsv = cv2.cvtColor(frame_bgr, cv2.COLOR_BGR2HSV)
        frame_disc = cv2.inRange(frame_hsv, self.TEINTE_MIN, self.TEINTE_MAX)
        
        contours, _ = cv2.findContours(frame_disc, cv2.RETR_LIST, cv2.CHAIN_APPROX_SIMPLE)

        cv2.drawContours(frame_bgr, contours, -1, (255, 0, 0), 2)

        c = max(contours, key=cv2.contourArea)
        



        compteur_tours = 0
    evenement_tour_complet = Event()
    evenement_tour_complet.wait()
    while compteur_tours < 10:
        robot.avancer(0.5)
        evenement_tour_complet.wait()
        nombre_contours = camera.capturer_image()
        print(f"Nombre de contours avec aire > 10 000 pixels: {nombre_contours}")
        compteur_tours += 1
        evenement_tour_complet.clear()